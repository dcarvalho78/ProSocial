{% extends "base.html" %}
{% block title %}{{ company.name }} · prosocial{% endblock %}
{% block content %}
<div class="mb-3">
  <h1 class="h4 mb-1">{{ company.name }}</h1>
  <div class="text-muted">{{ company.industry }} · {{ company.location }}</div>
  <p class="mt-2">{{ company.description }}</p>
  {% if company.website %}<a class="btn btn-sm btn-outline-primary" href="{{ company.website }}" target="_blank">Website</a>{% endif %}
</div>
<ul class="nav nav-tabs" role="tablist">
  <li class="nav-item"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#posts" type="button">Posts</button></li>
  <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#jobs" type="button">Jobs</button></li>
  <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#people" type="button">People</button></li>
</ul>
<div class="tab-content border-start border-end border-bottom p-3">
  <div class="tab-pane fade show active" id="posts">
    <div class="vstack gap-3">
      {% for p in posts %}
        <article class="card"><div class="card-body">
          <div class="d-flex justify-content-between">
            <h3 class="h6 mb-1">{{ p.author.get_full_name|default:p.author.username }}</h3>
            <small class="text-muted">{{ p.created_at|date:"Y-m-d H:i" }}</small>
          </div>
          <p class="mb-0">{{ p.content }}</p>
        </div></article>
      {% empty %}<p class="text-muted">No posts yet.</p>{% endfor %}
    </div>
  </div>
  <div class="tab-pane fade" id="jobs">
    <div class="list-group">
      {% for j in jobs %}
        <a href="/jobs/{{ j.id }}/" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
          <div>
            <div class="fw-semibold">{{ j.title }}</div>
            <small class="text-muted">{{ j.location }} · {{ j.get_employment_type_display }}</small>
          </div>
          <small class="text-muted">{{ j.created_at|date:"Y-m-d" }}</small>
        </a>
      {% empty %}<p class="text-muted">No jobs.</p>{% endfor %}
    </div>
  </div>
  <div class="tab-pane fade" id="people">
    <div class="row row-cols-1 row-cols-md-2 g-2">
      {% for u in employees %}
        <div class="col"><div class="card h-100"><div class="card-body">
          <div class="fw-semibold">{{ u.get_full_name|default:u.username }}</div>
          <small class="text-muted">{{ u.headline }}</small>
        </div></div></div>
      {% empty %}<p class="text-muted">No employees listed.</p>{% endfor %}
    </div>
  </div>
</div>
{% endblock %}
